Figured out how to handle the WebSocket connection lifecycle properly.

Using a combination of `useEffect` and cleanup functions.

Ensured that the connection is closed when the component unmounts.

Preventing memory leaks.