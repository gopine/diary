This is more complicated than REST APIs.